<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us | The Kershaw Law Firm P.C.</title>
    <link rel="stylesheet" href="css/contact.css">
    <script defer src="JS/contactscript.js"></script>
</head>

<body>

    <!-- Hero Section -->
    <div class="hero">
        <div class="overlay"></div>
        <h1 class="lawfirm-title">The Kershaw Law Firm P.C.</h1>
        <p class="headline">Expert Immigration Law Assistance</p>
        <a href="#form-container" class="cta-button">Get Started</a>
    </div>

    <!-- Contact Form Section -->
    <section>
        <div class="container" id="form-container">
            <h2>Contact Us</h2>
            <form id="contact-form">
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name" required placeholder="Enter your full name">

                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" required placeholder="Enter your email">

                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" required placeholder="Enter your phone number">

                <label for="service">Legal Assistance Needed:</label>
                <select id="service" name="service" required>
                    <option value="" disabled selected>Select an option</option>
                    <option value="h2a">H-2A Visa Assistance</option>
                    <option value="h2b">H-2B Visa Assistance</option>
                    <option value="green-card">Green Card Application</option>
                    <option value="citizenship">U.S. Citizenship Services</option>
                    <option value="other">Other Immigration Law Needs</option>
                </select>

                <label for="message">Your Message:</label>
                <textarea id="message" name="message" rows="5" required placeholder="Describe your case or question..."></textarea>

                <button type="submit" class="submit-btn">Submit Inquiry</button>
            </form>
        </div>
    </section>

    <!-- Footer Navigation -->
    <nav class="footer-nav">
        <a href="index.html">Home</a>
        <a href="h2b.html">H2B Visa</a>
        <a href="h2a.html">H2A Visa</a>
        <a href="contact.html">Contact</a>
    </nav>

    <script>
        document.getElementById("contact-form").addEventListener("submit", function(event) {
            event.preventDefault();

            const formData = new FormData(this);
            
            fetch("process_payment.php", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert("Payment successful! A DocuSign will be sent to you.");
                    sendDocuSign(data.email);
                } else {
                    alert("Payment failed. An issue email has been sent.");
                    sendIssueEmail(data.email);
                }
            })
            .catch(error => console.error("Error:", error));
        });

        function sendDocuSign(email) {
            fetch("send_docusign.php", {
                method: "POST",
                body: JSON.stringify({ email: email }),
                headers: { "Content-Type": "application/json" }
            })
            .then(response => response.json())
            .then(data => console.log("DocuSign sent:", data));
        }

        function sendIssueEmail(email) {
            fetch("send_issue_email.php", {
                method: "POST",
                body: JSON.stringify({ email: email }),
                headers: { "Content-Type": "application/json" }
            })
            .then(response => response.json())
            .then(data => console.log("Issue email sent:", data));
        }
    </script>

</body>
</html>